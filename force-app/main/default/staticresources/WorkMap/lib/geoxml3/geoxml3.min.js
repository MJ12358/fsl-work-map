if(window.google&&google.maps){function MultiGeometry(e){function o(e,o){var n=new google.maps.Polyline(e);return google.maps.event.addListener(n,"click",function(e){google.maps.event.trigger(o,"click",e)}),google.maps.event.addListener(n,"dblclick",function(e){google.maps.event.trigger(o,"dblclick",e)}),google.maps.event.addListener(n,"mousedown",function(e){google.maps.event.trigger(o,"mousedown",e)}),google.maps.event.addListener(n,"mousemove",function(e){google.maps.event.trigger(o,"mousemove",e)}),google.maps.event.addListener(n,"mouseout",function(e){google.maps.event.trigger(o,"mouseout",e)}),google.maps.event.addListener(n,"mouseover",function(e){google.maps.event.trigger(o,"mouseover",e)}),google.maps.event.addListener(n,"mouseup",function(e){google.maps.event.trigger(o,"mouseup",e)}),google.maps.event.addListener(n,"rightclick",function(e){google.maps.event.trigger(o,"rightclick",e)}),n}for(this.setValues(e),this.polylines=[],i=0;i<this.paths.length;i++){var n=e;n.path=this.paths[i];var t=o(n,this);this.polylines.push(t)}}MultiGeometry.prototype=new google.maps.MVCObject,MultiGeometry.prototype.changed=function(e){if(this.polylines)for(var o=0;o<this.polylines.length;o++)this.polylines[o].set(e,this.get(e))},MultiGeometry.prototype.setMap=function(e){this.set("map",e)},MultiGeometry.prototype.getMap=function(){return this.get("map")}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),geoXML3=window.geoXML3||{instances:[]},geoXML3.parser=function(e){function o(e,o){geoXML3.fetchXML(e,function(e){u(e,o)})}function n(e,o,n){var r=geoXML3.nodeValue;o[n]=o[n]||t(c);var a=e.getElementsByTagName("IconStyle");return a&&a.length&&a.length>0&&(o[n].scale=parseFloat(r(a[0].getElementsByTagName("scale")[0]))),isNaN(o[n].scale)&&(o[n].scale=1),a=e.getElementsByTagName("Icon"),a&&a.length&&a.length>0&&(o[n].href=r(a[0].getElementsByTagName("href")[0])),a=e.getElementsByTagName("LineStyle"),a&&a.length&&a.length>0&&(o[n].color=r(a[0].getElementsByTagName("color")[0],c.color),o[n].colorMode=r(a[0].getElementsByTagName("colorMode")[0],c.colorMode),o[n].width=r(a[0].getElementsByTagName("width")[0],c.width)),a=e.getElementsByTagName("PolyStyle"),a&&a.length&&a.length>0&&(o[n].outline=s(a[0].getElementsByTagName("outline")[0],c.outline),o[n].fill=s(a[0].getElementsByTagName("fill")[0],c.fill),o[n].colorMode=r(a[0].getElementsByTagName("colorMode")[0],c.colorMode),o[n].fillcolor=r(a[0].getElementsByTagName("color")[0],c.fillcolor)),o[n]}function t(e){if(null==e||"object"!=typeof e)return e;var o=new e.constructor;for(var n in e)o[n]=t(e[n]);return o}function r(e,o,r){for(var s=geoXML3.nodeValue,a=e.getElementsByTagName("Pair"),i=new Object,g=0;g<a.length;g++){var d=s(a[g].getElementsByTagName("key")[0]),p=s(a[g].getElementsByTagName("Style")[0]),m=s(a[g].getElementsByTagName("styleUrl")[0]);p?n(p,i[d],r):m&&o[m]&&(i[d]=t(o[m]))}i.normal?o[r]=t(i.normal):o[r]=t(c),i.highlight&&l.processStyles&&w(i.highlight),o[r].map=t(i)}function s(e){var o=geoXML3.nodeValue(e);return!o||(o&&(o=parseInt(o)),!!isNaN(o)||0!=o)}function a(e,o){for(var n=e.getElementsByTagName(o),t=[],r=0;r<n.length;r++){var s=n[r].getElementsByTagName("coordinates");if(!s){if(t.length>0)break;return[{coordinates:[]}]}for(var a=0;a<s.length;a++){var i=geoXML3.nodeValue(s[a]).trim();i=i.replace(/,\s+/g,",");for(var l=i.split(/\s+/g),g=l.length,d=[],p=0;p<g;p++)i=l[p].split(","),isNaN(i[0])||isNaN(i[1])||d.push({lat:parseFloat(i[1]),lng:parseFloat(i[0]),alt:parseFloat(i[2])});t.push({coordinates:d})}}return t}google.maps.MVCObject.call(this);var i,l=geoXML3.combineOptions(e,{singleInfoWindow:!1,processStyles:!0,zoom:!0}),g=[];void 0===l.suppressInfoWindows&&(l.suppressInfoWindows=!1),!l.infoWindow&&l.singleInfoWindow&&window.google&&google.maps&&(l.infoWindow=new google.maps.InfoWindow),geoXML3.xhrTimeout=6e4,l.xhrTimeout&&(geoXML3.xhrTimeout=l.xhrTimeout);var d=function(e,o){var n={parser:this,docSet:o||[],remaining:1,parseOnly:!(l.afterParse||l.processStyles)};thisDoc=new Object,thisDoc.internals=n,n.docSet.push(thisDoc),u(geoXML3.xmlParse(e),thisDoc)},p=function(e,n){i||(i="geoXML3.instances["+(geoXML3.instances.push(this)-1)+"]"),"string"==typeof e&&(e=[e]);for(var t,r,s={parser:this,docSet:n||[],remaining:e.length,parseOnly:!(l.afterParse||l.processStyles)},a=0;a<e.length;a++){var d=e[a].split("?")[0];for(r=0;r<g.length;r++)if(d===g[r].baseUrl){t=g[r],t.reload=!0;break}r>=g.length&&(t=new Object,t.baseUrl=d,s.docSet.push(t)),t.url=e[a],t.internals=s;var p=t.url;l.proxy&&(p=l.proxy+t.url),o(p,t)}},m=function(e){var o;if(e||(e=g[0]),window.google&&google.maps){if(e.markers)for(o=0;o<e.markers.length;o++)e.markers[o].infoWindow&&e.markers[o].infoWindow.close(),e.markers[o].setVisible(!1);if(e.ggroundoverlays)for(o=0;o<e.ggroundoverlays.length;o++)e.ggroundoverlays[o].setOpacity(0);if(e.gpolylines)for(o=0;o<e.gpolylines.length;o++)e.gpolylines[o].infoWindow&&e.gpolylines[o].infoWindow.close(),e.gpolylines[o].setMap(null);if(e.gpolygons)for(o=0;o<e.gpolygons.length;o++)e.gpolygons[o].infoWindow&&e.gpolygons[o].infoWindow.close(),e.gpolygons[o].setMap(null)}},f=function(e){var o;if(e||(e=g[0]),window.google&&google.maps){if(e.markers)for(o=0;o<e.markers.length;o++)e.markers[o].setVisible(!0);if(e.ggroundoverlays)for(o=0;o<e.ggroundoverlays.length;o++)e.ggroundoverlays[o].setOpacity(e.ggroundoverlays[o].percentOpacity_);if(e.gpolylines)for(o=0;o<e.gpolylines.length;o++)e.gpolylines[o].setMap(l.map);if(e.gpolygons)for(o=0;o<e.gpolygons.length;o++)e.gpolygons[o].setMap(l.map)}},c={color:"ff000000",colorMode:"normal",width:1,fill:!0,outline:!0,fillcolor:"3fff0000"},u=function(e,o){if(e&&"failed parse"!=e){if(!o)throw"geoXML3 internal error: render called with null document";var s={};o.placemarks=[],o.groundoverlays=[],o.ggroundoverlays=[],o.networkLinks=[],o.gpolygons=[],o.gpolylines=[],o.markers=[];var d,p,m,f,u,h,y=geoXML3.nodeValue;for(nodes=e.getElementsByTagName("Style"),nodeCount=nodes.length,G=0;G<nodeCount;G++){thisNode=nodes[G];var b=thisNode.getAttribute("id");b&&(d="#"+b,n(thisNode,s,d))}for(nodes=e.getElementsByTagName("StyleMap"),G=0;G<nodes.length;G++){thisNode=nodes[G];b=thisNode.getAttribute("id");b&&(d="#"+b,r(thisNode,s,d))}if(o.styles=s,!l.processStyles&&l.createMarker||v(o),o.reload&&o.markers)for(G=0;G<o.markers.length;G++)o.markers[G].active=!1;var X,N,T=e.getElementsByTagName("Placemark");for(pm=0;pm<T.length;pm++){p=T[pm],f={name:geoXML3.nodeValue(p.getElementsByTagName("name")[0]),description:geoXML3.nodeValue(p.getElementsByTagName("description")[0]),styleUrl:geoXML3.nodeValue(p.getElementsByTagName("styleUrl")[0]),id:p.getAttribute("id")},f.style=o.styles[f.styleUrl]||t(c);var O=p.getElementsByTagName("Style");if(O&&O.length>0){var P=n(p,o.styles,"inline");w(P),P&&(f.style=P)}/^https?:\/\//.test(f.description)&&(f.description=['<a href="',f.description,'">',f.description,"</a>"].join(""));var E=p.getElementsByTagName("coordinates"),W=null;if(E&&E.length>0)for(var x=0;x<E.length;x++)if(E[x].parentNode&&E[x].parentNode.nodeName){var S=E[x].parentNode;switch(W=S.nodeName,W){case"Point":f.Point=a(p,"Point")[0],window.google&&google.maps&&(f.latlng=new google.maps.LatLng(f.Point.coordinates[0].lat,f.Point.coordinates[0].lng)),1;break;case"LinearRing":h=p.getElementsByTagName("Polygon"),f.Polygon||(f.Polygon=[{outerBoundaryIs:{coordinates:[]},innerBoundaryIs:[{coordinates:[]}]}]);for(var I=0;I<h.length;I++)f.Polygon[I]={outerBoundaryIs:{coordinates:[]},innerBoundaryIs:[{coordinates:[]}]},f.Polygon[I].outerBoundaryIs=a(h[I],"outerBoundaryIs"),f.Polygon[I].innerBoundaryIs=a(h[I],"innerBoundaryIs");f.Polygon[0].outerBoundaryIs;break;case"LineString":0,f.LineString=a(p,"LineString")}}else;if(l.pmParseFn&&l.pmParseFn(p,f),o.placemarks.push(f),window.google&&google.maps){if(f.Point)if(window.google&&google.maps&&(o.bounds=o.bounds||new google.maps.LatLngBounds,o.bounds.extend(f.latlng)),l.createMarker)l.createMarker(f,o);else{var V=!1;if(o&&(o.markers=o.markers||[],o.reload))for(var j=0;j<o.markers.length;j++)if(o.markers[j].id==f.id||!o.markers[j].id&&o.markers[j].getPosition().equals(f.latlng)){V=o.markers[j].active=!0;break}V||(u=L(f,o),u&&(u.active=!0,u.id=f.id))}f.Polygon&&(o&&(o.gpolygons=o.gpolygons||[]),l.createPolygon?m=l.createPolygon(f,o):(m=B(f,o),m.active=!0),window.google&&google.maps&&(o.bounds=o.bounds||new google.maps.LatLngBounds,o.bounds.union(m.bounds))),f.LineString&&(o&&(o.gpolylines=o.gpolylines||[]),l.createPolyline?m=l.createPolyline(f,o):(m=k(f,o),m.active=!0),window.google&&google.maps&&(o.bounds=o.bounds||new google.maps.LatLngBounds,o.bounds.union(m.bounds)))}}if(o.reload&&o.markers)for(G=o.markers.length-1;G>=0;G--)o.markers[G].active||(o.markers[G].infoWindow&&o.markers[G].infoWindow.close(),o.markers[G].setMap(null),o.markers.splice(G,1));if(o.reload&&o.groundoverlays)for(G=0;G<o.groundoverlays.length;G++)o.groundoverlays[G].active=!1;o&&(o.groundoverlays=o.groundoverlays||[]);var z,F=e.getElementsByTagName("GroundOverlay");for(G=0;G<F.length;G++){p=F[G],X={name:geoXML3.nodeValue(p.getElementsByTagName("name")[0]),description:geoXML3.nodeValue(p.getElementsByTagName("description")[0]),icon:{href:geoXML3.nodeValue(p.getElementsByTagName("href")[0])},latLonBox:{north:parseFloat(geoXML3.nodeValue(p.getElementsByTagName("north")[0])),east:parseFloat(geoXML3.nodeValue(p.getElementsByTagName("east")[0])),south:parseFloat(geoXML3.nodeValue(p.getElementsByTagName("south")[0])),west:parseFloat(geoXML3.nodeValue(p.getElementsByTagName("west")[0]))}},window.google&&google.maps&&(o.bounds=o.bounds||new google.maps.LatLngBounds,o.bounds.union(new google.maps.LatLngBounds(new google.maps.LatLng(X.latLonBox.south,X.latLonBox.west),new google.maps.LatLng(X.latLonBox.north,X.latLonBox.east))));var R=p.getElementsByTagName("color");if(R&&R.length&&R.length>0?X.opacity=geoXML3.getOpacity(y(R[0])):X.opacity=.45,o.groundoverlays.push(X),window.google&&google.maps){if(l.createOverlay)l.createOverlay(X,o);else{V=!1;if(o&&(o.groundoverlays=o.groundoverlays||[],window.google&&google.maps&&o.reload)){overlayBounds=new google.maps.LatLngBounds(new google.maps.LatLng(X.latLonBox.south,X.latLonBox.west),new google.maps.LatLng(X.latLonBox.north,X.latLonBox.east));var C=o.groundoverlays;for(G=C.length;G--;)if(C[G].bounds().equals(overlayBounds)&&C.url_===X.icon.href){V=C[G].active=!0;break}}V||(N=M(X,o),N.active=!0)}if(o.reload&&o.groundoverlays&&o.groundoverlays.length){C=o.groundoverlays;for(G=C.length;G--;)C[G].active||(C[G].remove(),C.splice(G,1));o.groundoverlays=C}}}var A=document.location.pathname.split("/");A=A.splice(0,A.length-1).join("/");var D=e.getElementsByTagName("NetworkLink");for(G=0;G<D.length;G++)p=D[G],z={name:geoXML3.nodeValue(p.getElementsByTagName("name")[0]),link:{href:geoXML3.nodeValue(p.getElementsByTagName("href")[0]),refreshMode:geoXML3.nodeValue(p.getElementsByTagName("refreshMode")[0])}},""===z.link.refreshMode&&(z.link.refreshMode="onChange"),"onInterval"===z.link.refreshMode?(z.link.refreshInterval=parseFloat(geoXML3.nodeValue(p.getElementsByTagName("refreshInterval")[0])),isNaN(z.link.refreshInterval)&&(z.link.refreshInterval=0)):"onChange"===z.link.refreshMode&&(z.link.viewRefreshMode=geoXML3.nodeValue(p.getElementsByTagName("viewRefreshMode")[0]),""===z.link.viewRefreshMode&&(z.link.viewRefreshMode="never"),"onStop"===z.link.viewRefreshMode&&(z.link.viewRefreshTime=geoXML3.nodeValue(p.getElementsByTagName("refreshMode")[0]),z.link.viewFormat=geoXML3.nodeValue(p.getElementsByTagName("refreshMode")[0]),""===z.link.viewFormat&&(z.link.viewFormat="BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]"))),/^[\/|http]/.test(z.link.href)||(z.link.href=A+"/"+z.link.href),"onInterval"===z.link.refreshMode&&z.link.refreshInterval>0?setInterval(i+'.parse("'+z.link.href+'")',1e3*z.link.refreshInterval):"onChange"===z.link.refreshMode&&("never"===z.link.viewRefreshMode?o.internals.parser.parse(z.link.href,o.internals.docSet):z.link.viewRefreshMode)}else geoXML3.log("Unable to retrieve "+o.url),l.failedParse&&l.failedParse(o);if(o.bounds&&window.google&&google.maps&&(o.internals.bounds=o.internals.bounds||new google.maps.LatLngBounds,o.internals.bounds.union(o.bounds)),(o.markers||o.groundoverlays||o.gpolylines||o.gpolygons)&&(o.internals.parseOnly=!1),o.internals.remaining-=1,0===o.internals.remaining){if(l.zoom&&o.internals.bounds&&!o.internals.bounds.isEmpty()&&l.map&&l.map.fitBounds(o.internals.bounds),l.afterParse&&l.afterParse(o.internals.docSet),!o.internals.parseOnly)for(var G=0;G<o.internals.docSet.length;G++)g.push(o.internals.docSet[G]);google.maps.event.trigger(o.internals.parser,"parsed")}},h=function(e,o){var n={};e=e||"ffffffff";var t=e.substr(0,2),r=e.substr(2,2),s=e.substr(4,2),a=e.substr(6,2);return n.opacity=parseInt(t,16)/256,n.color="random"===o?y(a,s,r):"#"+a+s+r,n},y=function(e,o,n){var t={rr:e,gg:o,bb:n};for(var r in t){var s=t[r];null==s&&(s="ff"),s=Math.round(Math.random()*parseInt(e,16)).toString(16),1===s.length&&(s="0"+s),t[r]=s}return"#"+t.rr+t.gg+t.bb},w=function(e){if(window.google&&google.maps){var o=new google.maps.Point(0,0);if(e.href){var n=/\/(red|blue|green|yellow|lightblue|purple|pink|orange|pause|go|stop)(-dot)?\.png/;if(n.test(e.href))var t=new google.maps.Point(16*e.scale,32*e.scale);else t=new google.maps.Point(16*e.scale,16*e.scale);e.icon={url:e.href,size:new google.maps.Size(32*e.scale,32*e.scale),origin:o,anchor:t,scaledSize:new google.maps.Size(32*e.scale,32*e.scale)};var r=/\/(red|blue|green|yellow|lightblue|purple|pink|orange)(-dot)?\.png/,s=new google.maps.Size(59,32),a=new google.maps.Point(16,32);r.test(e.href)?e.shadow={url:"http://maps.google.com/mapfiles/ms/micons/msmarker.shadow.png",size:s,origin:o,anchor:a,scaledSize:s}:e.href.indexOf("-pushpin.png")>-1?e.shadow={url:"http://maps.google.com/mapfiles/ms/micons/pushpin_shadow.png",size:s,origin:o,anchor:a,scaledSize:s}:e.shadow={url:e.href.replace(".png",".shadow.png"),size:s,origin:o,anchor:a,scaledSize:s}}}},v=function(e){for(var o in e.styles)w(e.styles[o])},L=function(e,o){var n=geoXML3.combineOptions(l.markerOptions,{map:l.map,position:new google.maps.LatLng(e.Point.coordinates[0].lat,e.Point.coordinates[0].lng),title:e.name,zIndex:Math.round(-1e5*e.Point.coordinates[0].lat)<<5,icon:e.style.icon,shadow:e.style.shadow}),t=new google.maps.Marker(n);if(o&&o.markers.push(t),!l.suppressInfoWindows){var r=geoXML3.combineOptions(l.infoWindowOptions,{content:'<div class="geoxml3_infowindow"><h3>'+e.name+"</h3><div>"+e.description+"</div></div>",pixelOffset:new google.maps.Size(0,2)});l.infoWindow?t.infoWindow=l.infoWindow:t.infoWindow=new google.maps.InfoWindow(r),t.infoWindowOptions=r,google.maps.event.addListener(t,"click",function(){this.infoWindow.close(),t.infoWindow.setOptions(this.infoWindowOptions),this.infoWindow.open(this.map,this)})}return e.marker=t,t},M=function(e,o){if(!window.ProjectedOverlay)throw"geoXML3 error: ProjectedOverlay not found while rendering GroundOverlay from KML";var n=new google.maps.LatLngBounds(new google.maps.LatLng(e.latLonBox.south,e.latLonBox.west),new google.maps.LatLng(e.latLonBox.north,e.latLonBox.east)),t=geoXML3.combineOptions(l.overlayOptions,{percentOpacity:100*e.opacity}),r=new ProjectedOverlay(l.map,e.icon.href,n,t);return o&&(o.ggroundoverlays=o.ggroundoverlays||[],o.ggroundoverlays.push(r)),r},k=function(e,o){for(var n=[],t=new google.maps.LatLngBounds,r=0;r<e.LineString.length;r++){for(var s=[],a=e.LineString[r].coordinates,i=0;i<a.length;i++){var g=new google.maps.LatLng(a[i].lat,a[i].lng);s.push(g),t.extend(g)}n.push(s)}var d=n[0][Math.floor(s.length/2)],p=h(e.style.color,e.style.colorMode),m=geoXML3.combineOptions(l.polylineOptions,{map:l.map,strokeColor:p.color,strokeWeight:e.style.width,strokeOpacity:p.opacity,title:e.name});if(n.length>1){m.paths=n;var f=new MultiGeometry(m)}else{m.path=n[0];f=new google.maps.Polyline(m)}if(f.bounds=t,!l.suppressInfoWindows){var c=geoXML3.combineOptions(l.infoWindowOptions,{content:'<div class="geoxml3_infowindow"><h3>'+e.name+"</h3><div>"+e.description+"</div></div>",pixelOffset:new google.maps.Size(0,2)});l.infoWindow?f.infoWindow=l.infoWindow:f.infoWindow=new google.maps.InfoWindow(c),f.infoWindowOptions=c,google.maps.event.addListener(f,"click",function(e){f.infoWindow.close(),f.infoWindow.setOptions(f.infoWindowOptions),e&&e.latLng?f.infoWindow.setPosition(e.latLng):f.infoWindow.setPosition(d),f.infoWindow.open(f.map||f.polylines[0].map)})}return o&&o.gpolylines.push(f),e.polyline=f,f},B=function(e,o){for(var n=new google.maps.LatLngBounds,t=[],r=0;r<e.Polygon.length;r++){for(var s=0;s<e.Polygon[r].outerBoundaryIs.length;s++){for(var a=e.Polygon[r].outerBoundaryIs[s].coordinates,i=[],g=0;g<a.length;g++){var d=new google.maps.LatLng(a[g].lat,a[g].lng);i.push(d),n.extend(d)}t.push(i),i.length}for(s=0;s<e.Polygon[r].innerBoundaryIs.length;s++){for(a=e.Polygon[r].innerBoundaryIs[s].coordinates,i=[],g=0;g<a.length;g++){d=new google.maps.LatLng(a[g].lat,a[g].lng);i.push(d),n.extend(d)}t.push(i),i.length}}var p=h(e.style.color,e.style.colorMode),m=h(e.style.fillcolor,e.style.colorMode);e.style.fill||(m.opacity=0);var f=e.style.width;e.style.outline||(f=0,p.opacity=0);var c=geoXML3.combineOptions(l.polygonOptions,{map:l.map,paths:t,title:e.name,strokeColor:p.color,strokeWeight:f,strokeOpacity:p.opacity,fillColor:m.color,fillOpacity:m.opacity}),u=new google.maps.Polygon(c);if(u.bounds=n,!l.suppressInfoWindows){var y=geoXML3.combineOptions(l.infoWindowOptions,{content:'<div class="geoxml3_infowindow"><h3>'+e.name+"</h3><div>"+e.description+"</div></div>",pixelOffset:new google.maps.Size(0,2)});l.infoWindow?u.infoWindow=l.infoWindow:u.infoWindow=new google.maps.InfoWindow(y),u.infoWindowOptions=y,google.maps.event.addListener(u,"click",function(e){u.infoWindow.close(),u.infoWindow.setOptions(u.infoWindowOptions),e&&e.latLng?u.infoWindow.setPosition(e.latLng):u.infoWindow.setPosition(u.bounds.getCenter()),u.infoWindow.open(this.map)})}return o&&o.gpolygons.push(u),e.polygon=u,u};return{options:l,docs:g,parse:p,render:u,parseKmlString:d,hideDocument:m,showDocument:f,processStyles:v,createMarker:L,createOverlay:M,createPolyline:k,createPolygon:B}},geoXML3.getOpacity=function(e){if(e&&""!==e&&8==e.length){var o=parseInt(e.substr(0,2),16);return o/255}return 1},geoXML3.log=function(e){window.console?console.log(e):alert("log:"+e)},geoXML3.combineOptions=function(e,o){var n={};if(e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(o)for(t in o)o.hasOwnProperty(t)&&void 0===n[t]&&(n[t]=o[t]);return n},geoXML3.fetchers=[],geoXML3.xmlParse=function(e){if("undefined"!=typeof ActiveXObject||"ActiveXObject"in window){var o=new ActiveXObject("Microsoft.XMLDOM");return o.loadXML(e),o}return"undefined"!=typeof DOMParser?(new DOMParser).parseFromString(e,"text/xml"):document.createElement("div",null)},geoXML3.isParseError=function(e){if("undefined"!=typeof ActiveXObject||"ActiveXObject"in window)return!1;var o=new DOMParser,n=o.parseFromString("<","text/xml"),t=n.getElementsByTagName("parsererror")[0].namespaceURI;return"http://www.w3.org/1999/xhtml"===t?e.getElementsByTagName("parsererror").length>0:e.getElementsByTagNameNS(t,"parsererror").length>0},geoXML3.fetchXML=function(e,o){function n(){geoXML3.log("XHR timeout"),o()}var t=new Object;geoXML3.fetchers.length?t=geoXML3.fetchers.pop():window.XMLHttpRequest?t.fetcher=new window.XMLHttpRequest:window.ActiveXObject&&(t.fetcher=new window.ActiveXObject("Microsoft.XMLHTTP")),t.fetcher?(t.fetcher.open("GET",e,!0),t.fetcher.overrideMimeType&&t.fetcher.overrideMimeType("text/xml"),t.fetcher.onreadystatechange=function(){if(4===t.fetcher.readyState){if(t.xhrtimeout&&clearTimeout(t.xhrtimeout),t.fetcher.status>=400)geoXML3.log("HTTP error "+t.fetcher.status+" retrieving "+e),o();else{var n=geoXML3.xmlParse(t.fetcher.responseText);n.parseError&&0!=n.parseError.errorCode?(geoXML3.log("XML parse error "+n.parseError.errorCode+", "+n.parseError.reason+"\nLine:"+n.parseError.line+", Position:"+n.parseError.linepos+", srcText:"+n.parseError.srcText),n="failed parse"):geoXML3.isParseError(n)&&(geoXML3.log("XML parse error"),n="failed parse"),o(n)}geoXML3.fetchers.push(t)}},t.xhrtimeout=setTimeout(n,geoXML3.xhrTimeout),t.fetcher.send(null)):(geoXML3.log("Unable to create XHR object"),o(null))},geoXML3.nodeValue=function(e,o){var n="";if(!e)return null==o?"":o;if(3==e.nodeType||4==e.nodeType||2==e.nodeType)n+=e.nodeValue;else if(1==e.nodeType||9==e.nodeType||11==e.nodeType)for(var t=0;t<e.childNodes.length;++t)n+=arguments.callee(e.childNodes[t]);return n};